<!Doctype html>
<html ng-app="store">
<head>
	<title>Learning angula</title>
	<link href="bootstrap.min.css" rel="stylesheet">	
	<script type="text/javascript" src="angular.min.js"></script>
	<script type="text/javascript" src="app.js"></script>
</head>
<body class="content">
	<div ng-controller="StoreController as store">
		<!-- <div ng-repeat="product in store.products">
			<div ng-hide="product.soldOut">
				<h1>{{ product.name}}</h1>
				<h2> ${{ product.price}}</h2>
				<p>{{  product.description}}</p>
				<button class="btn btn-success" ng-show="product.canPurchase"> Add to Cart</button>
			</div>
		</div> -->
		<ul class="list-group">
			<li class="list-group-item"  ng-repeat="product in store.products">
				<h3>{{product.name}}
					<em class="pull-right">{{product.price | currency }}</em></h3>
					<img ng-src="{{product.images[0].full }}">
					<section  ng-controller="PanelController as panel ">
						<ul class="nav nav-pills" >
							<li ng-class="{active:panel.isSelected(1)}"><a href ng-click="panel.selectTab(1)">Description</a></li>
							<li ng-class="{active:panel.isSelected(2)}"><a href ng-click="panel.selectTab(2)">Specification</a></li>
							<li ng-class="{active:panel.isSelected(3)}"><a href ng-click="panel.selectTab(3)">Review</a></li>
						</ul>

						{{tab}}

						<div class="panel" ng-show="panel.isSelected(1)">
							<h4>Description</h4>
							<p>{{product.description}}</p>
						</div>
						<div class="panel" ng-show="panel.isSelected(2)">
							<h4>Reviews</h4>
							<blockquote ng-repeat="review in product.reviews">
								<b>Stars: {{review.stars}}</b>
								<p>{{review.body}}</p>
								<cite>by: {{review.author}}</cite>
							</blockquote>
						</div>
						<div class="panel" ng-show="panel.isSelected(3)">
							<h4>Review</h4>
							<form class="form-horizontal" name="reviewForm" ng-controller="ReviewController as reviewCtrl" ng-submit=" reviewForm.$valid && reviewCtrl.addReview(product)" novalidate> 
								<fieldset style="width:50%;">
									<blockquote >
										<b>Stars: {{reviewCtrl.review.stars}}</b>
										<p>{{reviewCtrl.review.body}}</p>
										<cite>by: {{reviewCtrl.review.author}}</cite>
									</blockquote>


									<div class="form-group">
										<label for="select" class="col-lg-2 control-label">Selects</label>
										<div class="col-lg-10">
											<select class="form-control" id="select" ng-model="reviewCtrl.review.stars" required>
												<option>1 star</option>
												<option>2 stars</option>
												<option>3 stars</option>
												<option>4 stars</option>
												<option>5 stars</option>
											</select>
										</div>
									</div>
									<div class="form-group">
										<label for="textArea" class="col-lg-2 control-label">Textarea</label>
										<div class="col-lg-10">
											<textarea class="form-control" rows="3" id="textArea"  ng-model="reviewCtrl.review.body" required></textarea>
										</div>

										<div class="form-group">
											<label for="inputEmail" class="col-lg-2 control-label">By</label>
											<div class="col-lg-10">
												<input type="text"  class="form-control" id="inputEmail" placeholder="Email" ng-model="reviewCtrl.review.author" required>
												<div class="checkbox">
													<label>
														<input type="checkbox" ng-model="reviewCtrl.review.terms"> I agree to terms
													</label>
												</div>
											</div>
											
										</div>
										<div class="form-group">
											<label class="col-lg-2 control-label">Radios</label>
											<div class="col-lg-10">
												<div class="radio">
													<input ng-model="reviewCtrl.review.color" type="radio" value="red" /> Red
													<input ng-model="reviewCtrl.review.color" type="radio" value="blue" /> Blue
													<input ng-model="reviewCtrl.review.color" type="radio" value="green" /> Green

												</div>
											</div>
											<div> reviewForm is {{reviewForm.$valid}} </div>
											<div class="form-group">
												<div class="col-lg-10 col-lg-offset-2">
													<button type="reset" class="btn btn-default">Cancel</button>
													<button type="submit" value="submit" class="btn btn-primary">Submit</button>
												</div>
											</div>


										</fieldset>
									</form>
								</div>
							</section>
						</li>
					</ul>
				</div>

			</body>
			</html>